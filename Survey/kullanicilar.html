<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/kullanici.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js"
        integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg=="
        crossorigin="anonymous"></script>
    <title>Katılımcılar</title>
    <style>
        .mr {
            margin-top: 130px !important;
        }

        h1 {
            text-align: center;
            margin-bottom: 14px;
            padding-top: 9px;
        }
        hr{
            background-color: rgb(238, 238, 238,0.5)!important;
            width: 50%;
        }

        .box-shadow {
            box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
        }

        #app {
            background: #cc2b5e;
            background: -webkit-linear-gradient(to right, #753a88, #cc2b5e);
            background: linear-gradient(to right, #753a88, #cc2b5e);
            color: white;
        }
        .btn{
            border-color: white;
            color: white;
        }
    </style>
</head>

<body>

    <div class="navigation-wrap bg-light start-header start-style ">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="navbar navbar-expand-md navbar-light">

                        <a class="navbar-brand" href="https://www.icisleri.gov.tr/" target="_blank"><img
                                src="img/icisleri.png" width="100px" alt=""></a>

                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ml-auto py-4 py-md-0">
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                                        aria-haspopup="true" aria-expanded="false">Bakanlık</a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Nüfus ve Vatandaşlık Genel Müdürlüğü</a>
                                        <a class="dropdown-item" href="#">Eğitim Dairesi Başkanlığı</a>
                                        <a class="dropdown-item" href="#">Personel Genel Müdürlüğü</a>
                                        <a class="dropdown-item" href="#">İç Denetim Birimi Başkanlığı</a>
                                    </div>
                                </li>
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                    <a class="nav-link" href="#">Himetlerimiz</a>
                                </li>
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                    <a class="nav-link" href="#">Faaliyetlerimiz</a>
                                </li>
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
									<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
										aria-haspopup="true" aria-expanded="false">Anket</a>
									<div class="dropdown-menu">
										<a class="dropdown-item" href="anket1.html">Anket 1</a>
										<a class="dropdown-item" href="anket2.html">Anket 2</a>
										<a class="dropdown-item" href="survey.htm">Anketler Sayfası</a>
										<a class="dropdown-item" href="login.html">Giriş Sayfası</a>
										<a class="dropdown-item" href="kullanicilar.html">Katılımcılar</a>
									</div>
								</li>
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                    <a class="nav-link" href="#">Valilikler</a>
                                </li>
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                    <a class="nav-link" href="#">İletişim</a>
                                </li>
                            </ul>
                        </div>

                    </nav>
                </div>
            </div>
        </div>
    </div>




    <div class="container mt-5 mb-5 mr">
        <div id="app">
            <h1>Ankete Katılanlar</h1>
            <hr>
            <div class="table-responsive box-shadow">
                <table class="table table-bordered">
                    <thead>
                        <tr class="text-center">
                            <th scope="col">id</th>
                            <th scope="col">Email</th>
                            <th scope="col">Ad Soyad</th>
                            <th scope="col">Avatar</th>
                            <th scope="col">Durum</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="usr in user" :key="usr.id" class="text-center">
                            <th scope="row">{{ usr.id }}</th>
                            <td>{{ usr.email }}</td>
                            <td>{{ usr.first_name }} {{ usr.last_name }}</td>
                            <td>
                                <img :src="usr.avatar" width="50" />
                            </td>
                            <td>
                                <button @click="handleInfo(usr)" class="btn btn-outline-secondary btn-sm">Bilgi</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, watchEffect } = Vue;

        //feature paginate
        function usePaginate() {
            const page = ref(1);
            const perpage = ref(15);
            const totalpage = ref(null);

            watchEffect(() => {
                if (perpage.value) {
                    page.value = 1;
                }
            });

            return { page, perpage, totalpage };
        }

        // feature user
        function useUser() {
            const user = ref(null);
            const { page, perpage, totalpage } = usePaginate();

            watchEffect(async () => {
                await axios
                    .get(
                        `https://reqres.in/api/users?page=${page.value}&per_page=${perpage.value}`
                    )
                    .then((res) => {
                        user.value = res.data.data;
                        totalpage.value = res.data.total_pages;
                    });
            });

            return { user, page, perpage, totalpage };
        }

        const App = {
            setup() {
                const { user, page, perpage, totalpage } = useUser();

                function handleInfo(user) {
                    alert("id : " + user.id);
                }

                return {
                    user,
                    page,
                    perpage,
                    totalpage,
                    handleInfo
                };
            },
        };

        createApp(App).mount("#app");
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
        integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
        crossorigin="anonymous"></script>


    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>

</html>